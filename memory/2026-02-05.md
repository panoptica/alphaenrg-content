# 2026-02-05 Daily Notes (Evening Update)

## LFC Agent Instagram Automation - ONGOING

### Progress Made
- **Browser automation working** - Playwright can login to Instagram successfully
- **Login flow fixed** - Handle cookie popup ("Allow all cookies"), use `input[type="text"]` for username, Enter key for submit
- **URL after login**: `instagram.com/accounts/onetap/` (save login info page) = SUCCESS

### Current Blocker
- **Image posting failing** - Can't find/interact with file upload input after clicking "New post"
- Debug screenshots saved at `~/lfc-agent/debug*.png` on Mac Mini
- Need to check screenshots to see Instagram's current create post UI

### Working Login Code
```python
page.goto("https://www.instagram.com/accounts/login/")
page.wait_for_timeout(5000)
page.click("text=Allow all cookies", timeout=3000)  # Cookie popup
page.fill("input[type=text]", username)
page.fill("input[type=password]", password)
page.keyboard.press("Enter")  # Better than finding submit button
page.wait_for_timeout(8000)
# Success if URL is NOT /login
```

### System Status
- **Mac Mini**: 192.168.154.44, all launchd jobs loaded for Fri-Sun posting
- **Model**: Switched to Opus for premium content quality
- **Content quality**: Verified excellent ("6 European Cups. Zero charges.")
- **Instagram creds**: YNWA4Reds / neqzid-bazsif-7gAzsy (in .env)

### Next Steps
1. Check debug screenshots on Mini: `open ~/lfc-agent/debug*.png`
2. Update post_image() selectors based on actual Instagram UI
3. Test real post manually if needed
4. Campaign scheduled: Fri 11am first post (2 days away)

### Files Modified
- `lfc-agent/src/automation/instagram_poster.py` - Updated login + posting flow
- `lfc-agent/test_browser_login.py` - Login test script
- `lfc-agent/test_real_post.py` - Full posting test script
